!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="160a7a52-2e18-430a-b6cb-6f2dcdbe30f5",e._sentryDebugIdIdentifier="sentry-dbid-160a7a52-2e18-430a-b6cb-6f2dcdbe30f5")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2707],{10306:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(80263),a=r(70856),n=r.n(a);let i=()=>(0,s.jsx)("div",{className:"w-full h-full flex flex-col items-center justify-center","data-sentry-component":"LogoLoader","data-sentry-source-file":"LogoLoader.tsx",children:(0,s.jsx)("div",{children:(0,s.jsx)("svg",{width:"60",height:"62",viewBox:"0 0 60 62",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n().loading,"data-sentry-element":"svg","data-sentry-source-file":"LogoLoader.tsx",children:(0,s.jsx)("path",{d:"M30.2571 4.12811L30.257 4.12389C30.2133 1.21067 26.5349 -0.034778 24.7224 2.24311L1.76109 31.0996C-1.21104 34.8348 1.45637 40.34 6.23131 40.34H29.4845L29.7563 58.4432C29.8 61.3564 33.4783 62.6016 35.2908 60.324L34.8996 60.0127L35.2908 60.324L58.2521 31.4674C61.2241 27.7322 58.5568 22.227 53.782 22.227H30.3762L30.2571 4.12811Z",stroke:"hsl(var(--brand-default))",strokeWidth:2,strokeLinecap:"round","data-sentry-element":"path","data-sentry-source-file":"LogoLoader.tsx"})})})})},20313:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var s=r(80263),a=r(15601),n=r.n(a),i=r(1012),l=r(86254),o=r(40022);let d=e=>{var t;let{projectRef:r,subject:a,error:d,className:c,showIcon:u=!0,children:m}=e,f=null==a?void 0:a.replace(/ /g,"%20"),h="/support/new?category=dashboard_bug";r&&(h+="&ref=".concat(r)),f&&(h+="&subject=".concat(f)),d&&(h+="&error=".concat(d.message));let g=(null==d||null==(t=d.message)?void 0:t.includes("503"))?"503 Service Temporarily Unavailable":null==d?void 0:d.message;return(0,s.jsxs)(i.Fc,{className:c,variant:"warning",title:a,"data-sentry-element":"Alert_Shadcn_","data-sentry-component":"AlertError","data-sentry-source-file":"AlertError.tsx",children:[u&&(0,s.jsx)(l.id,{className:"h-4 w-4",strokeWidth:2}),(0,s.jsx)(i.XL,{className:"text-foreground","data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"AlertError.tsx",children:a}),(0,s.jsxs)(i.TN,{className:"flex flex-col gap-3 break-words","data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"AlertError.tsx",children:[(0,s.jsxs)("div",{children:[(null==d?void 0:d.message)&&(0,s.jsxs)("p",{className:"text-left",children:["Error: ",g]}),(0,s.jsx)("p",{className:"text-left",children:"Try refreshing your browser, but if the issue persists for more than a few minutes, please reach out to us via support."})]}),m,(0,s.jsx)(o.$,{asChild:!0,type:"warning",className:"w-min","data-sentry-element":"Button","data-sentry-source-file":"AlertError.tsx",children:(0,s.jsx)(n(),{href:h,"data-sentry-element":"Link","data-sentry-source-file":"AlertError.tsx",children:"Contact support"})})]})]})}},31648:(e,t,r)=>{"use strict";r.d(t,{a:()=>l});var s=r(56947),a=r(17428),n=r(44957);async function i(){let{error:e,data:t}=await a.j2.mfa.listFactors();if(e)throw e;return t}let l=function(){let{enabled:e=!0,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.I)(n.e.mfaFactors(),()=>i(),{staleTime:18e5,...t})}},35983:(e,t,r)=>{"use strict";r.d(t,{i:()=>u});var s=r(55422),a=r(32144),n=r(80251),i=r(73969),l=r(17428),o=r(44957);let d=["Invalid TOTP code entered"],c=async e=>{let{error:t,data:r}=await l.j2.mfa.challengeAndVerify(e);if(t)throw t;return r},u=function(){let{onSuccess:e,onError:t,...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(0,a.jE)();return(0,n.n)(e=>{let{refreshFactors:t,...r}=e;return c(r)},{async onSuccess(t,r,s){var a;let n=null==(a=r.refreshFactors)||a;await Promise.all([...n?[l.invalidateQueries(o.e.mfaFactors())]:[],l.invalidateQueries(o.e.aaLevel())]),await (null==e?void 0:e(t,r,s))},async onError(e,r,a){void 0===t?i.oR.error("Failed to sign in: ".concat(e.message)):t(e,r,a),d.some(t=>e.message.includes(t))||s.wd("[CRITICAL] Failed to sign in via MFA: "+e.message)},...r})}},36902:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(15740).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},70856:e=>{e.exports={loading:"loading-anim_loading__rDN7u",dash:"loading-anim_dash__HIPR0"}},90437:(e,t,r)=>{"use strict";r.d(t,{y:()=>d,A:()=>c});var s=r(80263),a=r(90478),n=r(53239);let i=null;var l=r(51500);let o=e=>{let{className:t,delayIndex:r=0,animationDelay:o=150}=e,d=function(e){let t=(0,n.useRef)(null);return(0,a.Es)(()=>{let e=document.getAnimations().filter(e=>e instanceof CSSAnimation&&"shimmer"===e.animationName),r=e.find(e=>e.effect instanceof KeyframeEffect&&e.effect.target===t.current);if(void 0===r)return;let s=e[0];return r===s&&i&&(r.currentTime=i),r!==s&&(r.currentTime=s.currentTime),()=>{r===s&&r.currentTime&&(i=Number(r.currentTime))}},[]),t}(0);return(0,s.jsx)("div",{ref:d,className:(0,l.cn)("shimmering-loader rounded py-3",t),style:{animationFillMode:"backwards",animationDelay:"".concat(r*o,"ms")},"data-sentry-component":"ShimmeringLoader","data-sentry-source-file":"ShimmeringLoader.tsx"})},d=()=>(0,s.jsxs)("div",{className:"space-y-2","data-sentry-component":"GenericSkeletonLoader","data-sentry-source-file":"ShimmeringLoader.tsx",children:[(0,s.jsx)(o,{"data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"ShimmeringLoader.tsx"}),(0,s.jsx)(o,{className:"w-3/4",delayIndex:1,"data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"ShimmeringLoader.tsx"}),(0,s.jsx)(o,{className:"w-1/2",delayIndex:2,"data-sentry-element":"ShimmeringLoader","data-sentry-source-file":"ShimmeringLoader.tsx"})]}),c=o},99790:(e,t,r)=>{"use strict";r.d(t,{A:()=>w});var s=r(80263),a=r(32144),n=r(36902),i=r(15601),l=r.n(i),o=r(24400),d=r(53239),c=r(86692),u=r(20313),m=r(90437),f=r(35983),h=r(31648),g=r(99259),y=r(17428),x=r(27642),p=r(95708),v=r(40022);let j=(0,c.object)({code:(0,c.string)().required("MFA Code is required")}),w=e=>{var t;let{context:r="sign-in"}=e,i=(0,o.useRouter)(),c=(0,g.Rt)(),w=(0,a.jE)(),[b,L]=(0,d.useState)(null),{data:N,error:A,isError:k,isSuccess:S,isLoading:_}=(0,h.a)(),{mutate:C,isLoading:F,isSuccess:E}=(0,f.i)({onSuccess:async()=>{await w.resetQueries(),"forgot-password"===r?i.push({pathname:"/reset-password",query:i.query}):i.push((0,y.lf)())}}),I=async()=>{await c(),await i.replace("/sign-in")},T=async e=>{let{code:t}=e;b&&C({factorId:b.id,code:t,refreshFactors:!1})};return(0,d.useEffect)(()=>{S&&(0===N.totp.length&&w.resetQueries().then(()=>i.push((0,y.lf)())),N.totp.length>0&&L(N.totp[0]))},[null==N?void 0:N.totp,S,i,w]),(0,s.jsxs)(s.Fragment,{children:[_&&(0,s.jsx)(m.y,{}),k&&(0,s.jsx)(u.A,{error:A,subject:"Failed to retrieve factors"}),S&&(0,s.jsx)(x.A,{validateOnBlur:!0,id:"sign-in-mfa-form",initialValues:{code:""},validationSchema:j,onSubmit:T,children:()=>(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)(p.A,{id:"code",name:"code",type:"text",autoFocus:!0,icon:(0,s.jsx)(n.A,{}),placeholder:"XXXXXX",disabled:F,autoComplete:"off",spellCheck:"false",autoCapitalize:"none",autoCorrect:"off",label:b&&(null==N?void 0:N.totp.length)===2?"Code generated by ".concat(b.friendly_name):null}),(0,s.jsxs)("div",{className:"flex items-center justify-between space-x-2",children:[(0,s.jsx)(v.$,{block:!0,type:"outline",size:"large",disabled:F||E,onClick:I,className:"opacity-80 hover:opacity-100 transition",children:"Cancel"}),(0,s.jsx)(v.$,{block:!0,form:"sign-in-mfa-form",htmlType:"submit",size:"large",disabled:F||E,loading:F||E,children:F?"Verifying":E?"Signing in":"Verify"})]})]})})}),(0,s.jsxs)("div",{className:"my-8",children:[(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("span",{className:"text-foreground-light",children:"Unable to sign in?"})," "]}),(0,s.jsxs)("ul",{className:"list-disc pl-6",children:[(null==N?void 0:N.totp.length)===2&&(0,s.jsx)("li",{children:(0,s.jsx)("a",{className:"text-sm text-foreground-light hover:text-foreground cursor-pointer",onClick:()=>L(N.totp.find(e=>e.id!==(null==b?void 0:b.id))),children:"Authenticate using ".concat(null==(t=N.totp.find(e=>e.id!==(null==b?void 0:b.id)))?void 0:t.friendly_name,"?")})}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{href:"/logout","data-sentry-element":"Link","data-sentry-source-file":"SignInMfaForm.tsx",children:"Force sign out and clear cookies"})}),(0,s.jsx)("li",{children:(0,s.jsx)(l(),{target:"_blank",rel:"noreferrer",href:"/support/new?subject=Unable+to+sign+in+via+MFA&category=Login_issues",className:"text-sm transition text-foreground-light hover:text-foreground","data-sentry-element":"Link","data-sentry-source-file":"SignInMfaForm.tsx",children:"Reach out to us via support"})})]})]})]})}}}]);